!function(a){"use strict";a(document).ready(function(){function b(b){this.values={answer:null,score:0,right:0,wrong:0,index:null},this.init=function(b){this.getQuestion(),this.getUserAnswer(),a(".user-answer").attr("readonly",!1),this.updateScores(b)},this.init()}b.prototype={getQuestion:function(){var b=this;a.get("http://jservice.io/api/random",function(a){b.askQuestion(b.parseResponse(a[0]))})},parseResponse:function(b){var c={question:b.question,answer:b.answer,category:b.category.title.toUpperCase(),value:b.value};return console.log(c.answer),a(".user-answer").val(""),c},askQuestion:function(b){this.values.answer=b.answer,a(".category").html(b.category),a(".question").html(b.question),a(".question-value").html(b.value)},getUserAnswer:function(){var b="",c=this;a("form").on("submit",function(d){d.preventDefault(),b=a(".user-answer").val(),a(".user-answer").val(""),c.postResult(c.checkAnswer(b))}),a(".pose-question").on("click",function(d){b=a(".user-answer").val(),a(".user-answer").val(""),c.postResult(c.checkAnswer(b))})},checkAnswer:function(a){a=a.split(" ");for(var b=this.values.answer.toLowerCase().split(" "),c=0;c<a.length;c++)return b.indexOf(a[c])!=-1},postResult:function(b){b?a(".result").html("CORRECT!!!"):a(".result").html("NO. The correct answer was "+this.values.answer+"."),this.updateScores(this.calculateScores(b))},calculateScores:function(b){var c=this.values.score,d=this.values.right,e=this.values.wrong,f=a(".question-value").html(),g=null;return f=Number(f),g=b?[c+f,d+1,e]:[c-f,d,e+1]},updateScores:function(b){void 0===b&&(b=[0,0,0]),this.values.score=b[0],a(".score span").html(b[0]),this.values.right=b[1],a(".number-right span").html(b[1]),this.values.wrong=b[2],a(".number-wrong span").html(b[2])}},a(".start-new-game").on("click",function(){new b})})}(jQuery);